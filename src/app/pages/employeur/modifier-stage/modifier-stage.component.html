<div class="stage-page">
  <header>
    <h1>Modifier un stage</h1>
  </header>

  <form (ngSubmit)="onSubmit()" #stageForm="ngForm">
    <section>
      <h2>Informations principales</h2>
      <div class="form-group">
        <label for="intitule">Intitulé du stage</label>
        <input
          id="intitule"
          type="text"
          [(ngModel)]="stageData.intitule"
          name="intitule"
          required
          placeholder="Ex: Développeur Full-Stack"
        />
      </div>

      <div class="form-group">
        <label for="categorie">Catégorie</label>
        <select id="categorie" [(ngModel)]="stageData.categorie" name="categorie" required>
          <option value="" disabled selected>Sélectionner une catégorie</option>
          <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
        </select>
      </div>

      <div class="form-group">
        <label for="nombrePostes">Nombre de postes</label>
        <input
          id="nombrePostes"
          type="number"
          [(ngModel)]="stageData.nombrePostes"
          name="nombrePostes"
          required
        />
      </div>

      <div class="form-group">
        <label for="description">Description détaillée</label>
        <textarea
          id="description"
          [(ngModel)]="stageData.description"
          name="description"
          required
        ></textarea>
      </div>
    </section>

    <section>
      <h2>Période et durée</h2>
      <div class="form-group">
        <label for="dateDebut">Date de début</label>
        <input
          id="dateDebut"
          type="date"
          [(ngModel)]="stageData.dateDebut"
          name="dateDebut"
          required
        />
      </div>

      <div class="form-group">
        <label for="dateFin">Date de fin</label>
        <input
          id="dateFin"
          type="date"
          [(ngModel)]="stageData.dateFin"
          name="dateFin"
          required
        />
      </div>

      <div class="form-group">
        <label for="typeStage">Type de stage</label>
        <select id="typeStage" [(ngModel)]="stageData.typeStage" name="typeStage" required>
          <option *ngFor="let type of typesStage" [value]="type">{{ type }}</option>
        </select>
      </div>

      <div class="form-group">
        <label for="modalite">Modalité</label>
        <select id="modalite" [(ngModel)]="stageData.modalite" name="modalite" required>
          <option *ngFor="let mode of modalites" [value]="mode">{{ mode }}</option>
        </select>
      </div>
    </section>

    <section>
      <h2>Profil recherché</h2>
      <div class="form-group">
        <label for="competences">Compétences requises</label>
        <textarea
          id="competences"
          [(ngModel)]="stageData.competences"
          name="competences"
          required
        ></textarea>
      </div>

      <div class="form-group">
        <label for="niveauEtudes">Niveau d'études</label>
        <select id="niveauEtudes" [(ngModel)]="stageData.niveauEtudes" name="niveauEtudes" required>
          <option *ngFor="let niveau of niveauxEtudes" [value]="niveau">{{ niveau }}</option>
        </select>
      </div>
    </section>

    <section>
      <h2>Informations supplémentaires</h2>
      <div class="form-group">
        <label for="remuneration">Rémunération</label>
        <input
          id="remuneration"
          type="text"
          [(ngModel)]="stageData.remuneration"
          name="remuneration"
          placeholder="Ex: 800 $ / mois"
        />
      </div>

      <div class="form-group">
        <label for="lieu">Lieu du stage</label>
        <input
          id="lieu"
          type="text"
          [(ngModel)]="stageData.lieu"
          name="lieu"
          placeholder="Ex: Montréal"
        />
      </div>

      <div class="form-group">
        <label for="avantages">Avantages supplémentaires</label>
        <textarea
          id="avantages"
          [(ngModel)]="stageData.avantages"
          name="avantages"
        ></textarea>
      </div>
    </section>

    <div class="buttons">
      <button type="submit" class="btn btn-primary">Enregistrer</button>
      <button type="button" class="btn btn-secondary" (click)="onCancel()">Annuler</button>
    </div>
  </form>
</div>
